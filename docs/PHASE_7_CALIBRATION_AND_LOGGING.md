# Phase 7: Calibration and Logging

This phase focuses on system reliability, accurate measurements, and operational visibility.

## Calibration Procedures

### Camera Calibration
To maintain accuracy in distance estimation, the camera must be calibrated whenever its position or resolution changes.
- **Script**: `calibrate_camera.py`
- **Output**: The `FOCAL_LENGTH_DEFAULT` in `distance_estimator.py` (currently 1424).

### Servo Calibration
Servos can slightly drift over time or due to mechanical load.
- **Manual Trim**: Users can adjust individual servos via the manual sliders to find the "true" 90Â° (neutral) position.
- **Limits**: Hardware limits are enforced in both the Arduino firmware (`constrain(angle, 0, 180)`) and the Python backend.

## System Logging Infrastructure

### Backend Logs
The backend (`app.py`) provides real-time logs for all major events:
- **Serial Connection**: Status of the COM port connection.
- **AI Planning**: The reasoning and steps generated by the LLM.
- **Movement Execution**: Acknowledgment of servo movements (the `K` response from Arduino).

### Frontend System Log
A dedicated "System Logs" panel in the UI provides professional-grade visibility:
- **Colors**:
    - `INFO`: Standard operations (blue).
    - `SUCCESS`: Task completion (green).
    - `WARNING`: Recoverable issues/target lost (yellow).
    - `ERROR`: Movement failures/timeouts (red).
    - `AI`: Logical reasoning and plan generation (purple).

## Health Checks
- `check_camera.py`: Verifies that the OS can see the webcam at the specified index.
- `test_serial.py`: Sends a test packet to the Arduino and waits for the acknowledgment to verify the communication link.
- `check_orientation.py`: Helps verify the coordinate mapping between the visual frame and the robot's physical axes.
